{"id":"Ia6s","dependencies":[{"name":"C:\\GG\\TMS\\JS-project\\JS-finalProject\\package.json","includedInParent":true,"mtime":1681134384639}],"generated":{"js":"var t=document.querySelector(\".cart__content\"),e=document.querySelector(\".cart__body\"),c=document.querySelector(\".cart__empty\"),n=document.querySelector(\".cart__delete\"),a=document.querySelector(\".cart-circle\"),r=0;function i(){e.children.length>0?c.classList.add(\"none\"):c.classList.remove(\"none\")}function o(){var t=document.querySelectorAll(\".cart__item\"),e=0;t.forEach(function(t){var c=t.querySelector(\".item__amount\");e+=parseInt(c.textContent)}),document.querySelector(\".cart__amount\").innerHTML=e+\" ₽\"}function s(){a.innerHTML=r,0===r?a.classList.remove(\"active\"):a.classList.add(\"active\")}function d(t){var c='<article class=\"cart__item\">\\n  <div class=\"cart__item-image\">\\n  <img src='.concat(t.imgSrc,' alt=\"Goods-image\">\\n  </div>\\n  <div class=\"cart__item-description\">\\n    <p class=\"item__name\">\\n      ').concat(t.title,'\\n    </p>\\n    <span class=\"item__article\">Артикул: <span>123654785</span></span>\\n    <button class=\"item__delete\" data-action = \"delete\">Удалить</button>\\n  </div>\\n  <div class=\"item__amount\">\\n    ').concat(t.price,'\\n  </div>\\n  <div class=\"item__quantity\">\\n    1 шт\\n  </div>\\n  <div class=\"item__net-amount\">\\n  ').concat(t.price,\"\\n  </div>\\n</article>\");return e.insertAdjacentHTML(\"beforeend\",c),c}window.addEventListener(\"click\",function(t){if(t.target.hasAttribute(\"data-cart\")){var e=t.target.closest(\".goods__item\"),c=t.target.closest(\".goods__item-button\");c.classList.add(\"active\"),c.innerText=\"Добавлено\";var n={id:e.dataset.id,imgSrc:e.querySelector(\".goods__item-image\").getAttribute(\"src\"),title:e.querySelector(\".goods__item-text\").innerText,price:e.querySelector(\".goods__item-discount\").innerText};d(n);var a=[];localStorage.getItem(\"product\")&&(a=JSON.parse(localStorage.getItem(\"product\")));var l=n.id,_=n.imgSrc,m=n.title,u=n.price;a.push({productID:l,productImg:_,productTitle:m,productPrice:u}),localStorage.setItem(\"product\",JSON.stringify(a)),r++,console.log(r),s(),i(),o()}t.target.closest(\".cart__body\")&&\"delete\"===t.target.dataset.action&&(t.target.closest(\".cart__item\").remove(),r--,s(),i(),o())}),localStorage.getItem(\"product\")&&(productArr=JSON.parse(localStorage.getItem(\"product\")),r=productArr.length,productArr.forEach(function(t){t.productID;var c=t.productImg,n=t.productTitle,a=t.productPrice,r='<article class=\"cart__item\">\\n      <div class=\"cart__item-image\">\\n      <img src='.concat(c,' alt=\"Goods-image\">\\n      </div>\\n      <div class=\"cart__item-description\">\\n        <p class=\"item__name\">\\n          ').concat(n,'\\n        </p>\\n        <span class=\"item__article\">Артикул: <span>123654785</span></span>\\n        <button class=\"item__delete\" data-action = \"delete\">Удалить</button>\\n      </div>\\n      <div class=\"item__amount\">\\n        ').concat(a,'\\n      </div>\\n      <div class=\"item__quantity\">\\n        1 шт\\n      </div>\\n      <div class=\"item__net-amount\">\\n      ').concat(a,\"\\n      </div>\\n    </article>\");e.insertAdjacentHTML(\"beforeend\",r)}),o(),i(),s()),n.addEventListener(\"click\",function(){e.innerHTML=\"\",r=0,i(),o(),a.innerHTML=\"0\",a.classList.remove(\"active\"),localStorage.clear()});"},"sourceMaps":null,"error":null,"hash":"730a303ec78485f1e4dda6f474031ac1","cacheData":{"env":{}}}